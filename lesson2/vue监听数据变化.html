<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>vue监听数据变化</title>
    <script src="vue.js"></script>
    <script>

        window.onload=function(){
            var vm = new Vue({
                el:'#box',
                data:{
                    a:111,
                    b:2,
                    json:{name:'strive',age:16},
                }
            });

            //浅度
            vm.$watch('a',function(){
                alert('浅度发生变化了');

                this.b=this.a+100;
            });
            //深度
            vm.$watch('json',function () {
                alert('深度发生变化了');
            },{deep:true})

            document.onclick=function(){
                vm.a=1;
                vm.json.name='aaa';
            };
        };


    </script>
</head>
<body>
<div id="box">
    {{a}}
    <br>
    {{b}}
    <br>
    {{json | json}}
</div>

</body>
</html>